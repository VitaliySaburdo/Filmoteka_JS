!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},o=t.parcelRequired7c6;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},t.parcelRequired7c6=o),o("5g02X");var a=o("5g02X"),i=o("UL92Z"),l=document.querySelector(".gallery-list"),c=new(0,a.default);function u(e){var t=e.map((function(e){var t=e.id,n=e.original_title,r=e.poster_path,o=e.title,a=e.genre_ids,l=e.release_date;return'<li class="gallery__item" data-id="'.concat(t,'">\n        <img src="').concat(function(e){return e?"https://image.tmdb.org/t/p/w500".concat(e):"https://upload.wikimedia.org/wikipedia/commons/c/c2/No_image_poster.png?20170513175923"}(r),'" alt="').concat(o,'" class="gallery_img" width="395" height="574" />\n        <h2 class="gallery__title">').concat(function(e){var t=e.split("");return t.length>=33?t.slice(0,33).join("")+"...":e}(n),'</h2>\n        <p class="gallery__txt">').concat(function(e){var t=(0,i.getFromStorage)("genresList"),n=[],r=!0,o=!1,a=void 0;try{for(var l,c=e[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){var u=l.value,s=!0,d=!1,f=void 0;try{for(var p,g=t[Symbol.iterator]();!(s=(p=g.next()).done);s=!0){var v=p.value;v.id===u&&n.push(v.name)}}catch(e){d=!0,f=e}finally{try{s||null==g.return||g.return()}finally{if(d)throw f}}}}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n.length>2?n.slice(0,2).join(", ")+", Other":n.join(", ")}(a)," | ").concat(function(e){return e?e.split("-")[0]:""}(l),"\n      </li>")})).join("");l.insertAdjacentHTML("beforeend",t)}c.getGenres().then((function(e){var t=e.genres;(0,i.addToStorage)("genresList",t)})),c.fetchTrendingMovie().then((function(e){u(e.results)})),o("5xtVg"),o("UL92Z"),o("j1Fxp"),o("b3EoS");var s=o("bpxeT"),d=o("2TvXO");a=o("5g02X");o("UL92Z");var f=new(0,a.default);document.querySelector(".gallery-list"),document.querySelector(".pagination-btns"),document.querySelector(".page-btn.prev"),document.querySelector(".page-btn.next");function p(){return(p=e(s)(e(d).mark((function t(){var n,r;return e(d).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return function(){},function(){},function(){},e.next=5,f.fetchTrendingMovie();case 5:n=e.sent,r=f.page,20,console.log(r),console.log(n);case 13:case"end":return e.stop()}}),t)})))).apply(this,arguments)}!function(){p.apply(this,arguments)}();s=o("bpxeT"),d=o("2TvXO");var g=new(0,(a=o("5g02X")).default),v=document.querySelector("#header-form"),h=document.querySelector(".gallery-list");v.addEventListener("submit",(function(e){return x.apply(this,arguments)}));var y=1,m="",w=[];function x(){return(x=e(s)(e(d).mark((function t(n){var r,o,a,i;return e(d).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),m=n.currentTarget.elements.searchQuery.value.trim(),e.prev=2,e.next=5,g.getFilmOnSearch(m);case 5:r=e.sent,o=r.results,a=r.page,i=r.total_pages,a,y=i,w=o,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0);case 17:h.innerHTML="",u(w),console.log(y);case 20:case"end":return e.stop()}}),t,null,[[2,14]])})))).apply(this,arguments)}}();
//# sourceMappingURL=index.4e7004e5.js.map
