var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},r=e.parcelRequired7c6;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in n){var r=n[e];delete n[e];var o={id:e,exports:{}};return t[e]=o,r.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},e.parcelRequired7c6=r),r("cyIMT");var o=r("cyIMT"),i=r("31u3U");const c=document.querySelector(".gallery-list"),l=new(0,o.default);function a(e){const t=e.map((({id:e,original_title:t,poster_path:n,title:r,genre_ids:o,release_date:c})=>`<li class="gallery__item" data-id="${e}">\n        <img src="${function(e){return e?`https://image.tmdb.org/t/p/w500${e}`:"https://upload.wikimedia.org/wikipedia/commons/c/c2/No_image_poster.png?20170513175923"}(n)}" alt="${r}" class="gallery_img" width="395" height="574" />\n        <h2 class="gallery__title">${function(e){const t=e.split("");return t.length>=33?t.slice(0,33).join("")+"...":e}(t)}</h2>\n        <p class="gallery__txt">${function(e){const t=(0,i.getFromStorage)("genresList"),n=[];for(const r of e)for(const e of t)e.id===r&&n.push(e.name);return n.length>2?n.slice(0,2).join(", ")+", Other":n.join(", ")}(o)} | ${function(e){return e?e.split("-")[0]:""}(c)}\n      </li>`)).join("");c.insertAdjacentHTML("beforeend",t)}l.getGenres().then((({genres:e})=>{(0,i.addToStorage)("genresList",e)})),l.fetchTrendingMovie().then((e=>{a(e.results)})),r("bTcpz"),r("31u3U"),r("2YGUk"),r("gyeM6");o=r("cyIMT");r("31u3U");const s=new(0,o.default),u=document.querySelector(".page-btn.prev"),d=document.querySelector(".page-btn.next");!async function(){async function e(){const e=document.querySelector(".gallery-list"),{results:t}=await s.fetchTrendingMovie();e.innerHTML="",a(t)}d.addEventListener("click",(function(){s.currentPage++,e()})),u.addEventListener("click",(function(){s.currentPage>1&&(s.currentPage--,e())})),async function(){const t=document.querySelector(".pagination");for(let n=0;n<9;n++){const r=document.createElement("li");r.classList.add("page"),r.textContent=s.currentPage+n,t.appendChild(r),r.addEventListener("click",(async()=>{const t=await s.fetchTrendingMovie();console.log(t),s.currentPage=r.textContent,e()}))}}()}();const g=new(0,(o=r("cyIMT")).default),f=document.querySelector("#header-form"),p=document.querySelector(".gallery-list");f.addEventListener("submit",(async function(e){e.preventDefault(),h=e.currentTarget.elements.searchQuery.value.trim();try{const{results:e,page:t,total_pages:n}=await g.getFilmOnSearch(h);y=t,m=n,w=e}catch(e){console.log(e)}p.innerHTML="",a(w),console.log(m)}));let y=1,m=1,h="",w=[];
//# sourceMappingURL=index.c21fae1e.js.map
