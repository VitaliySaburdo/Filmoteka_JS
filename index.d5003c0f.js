!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},t.parcelRequired7c6=a),a("5g02X");var o=a("5g02X"),i=a("UL92Z"),c=document.querySelector(".gallery-list"),l=new(0,o.default);function u(e){var t=e.map((function(e){var t=e.id,n=e.original_title,r=e.poster_path,a=e.title,o=e.genre_ids,c=e.release_date;return'<li class="gallery__item" data-id="'.concat(t,'">\n        <img src="').concat(function(e){return e?"https://image.tmdb.org/t/p/w500".concat(e):"https://upload.wikimedia.org/wikipedia/commons/c/c2/No_image_poster.png?20170513175923"}(r),'" alt="').concat(a,'" class="gallery_img" width="395" height="574" />\n        <h2 class="gallery__title">').concat(function(e){var t=e.split("");return t.length>=33?t.slice(0,33).join("")+"...":e}(n),'</h2>\n        <p class="gallery__txt">').concat(function(e){var t=(0,i.getFromStorage)("genresList"),n=[],r=!0,a=!1,o=void 0;try{for(var c,l=e[Symbol.iterator]();!(r=(c=l.next()).done);r=!0){var u=c.value,s=!0,p=!1,d=void 0;try{for(var f,g=t[Symbol.iterator]();!(s=(f=g.next()).done);s=!0){var v=f.value;v.id===u&&n.push(v.name)}}catch(e){p=!0,d=e}finally{try{s||null==g.return||g.return()}finally{if(p)throw d}}}}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n.length>2?n.slice(0,2).join(", ")+", Other":n.join(", ")}(o)," | ").concat(function(e){return e?e.split("-")[0]:""}(c),"\n      </li>")})).join("");c.insertAdjacentHTML("beforeend",t)}l.getGenres().then((function(e){var t=e.genres;(0,i.addToStorage)("genresList",t)})),l.fetchTrendingMovie().then((function(e){u(e.results)})),a("5xtVg"),a("UL92Z"),a("j1Fxp"),a("b3EoS");var s=a("bpxeT"),p=a("2TvXO");o=a("5g02X");a("UL92Z");var d=new(0,o.default),f=document.querySelector(".page-btn.prev"),g=document.querySelector(".page-btn.next");function v(){return v=e(s)(e(p).mark((function t(){var n,r,a,o,i,c;return e(p).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=function(){return r.apply(this,arguments)},r=function(){return(r=e(s)(e(p).mark((function t(){var n,r;return e(p).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=document.querySelector(".gallery-list"),e.next=3,d.fetchTrendingMovie();case 3:r=e.sent.results,n.innerHTML="",u(r);case 6:case"end":return e.stop()}}),t)})))).apply(this,arguments)},a=function(){return o.apply(this,arguments)},o=function(){return(o=e(s)(e(p).mark((function t(){var r,a,o;return e(p).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r=document.querySelector(".pagination"),a=0;a<9;a++)(o=document.createElement("li")).classList.add("page"),o.textContent=d.currentPage+a,r.appendChild(o),o.addEventListener("click",e(s)(e(p).mark((function t(){var r;return e(p).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.fetchTrendingMovie();case 2:r=e.sent,console.log(r),d.currentPage=o.textContent,n();case 6:case"end":return e.stop()}}),t)}))));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)},i=function(){d.currentPage++,n()},c=function(){d.currentPage>1&&(d.currentPage--,n())},g.addEventListener("click",i),f.addEventListener("click",c),a();case 15:case"end":return t.stop()}}),t)}))),v.apply(this,arguments)}!function(){v.apply(this,arguments)}();s=a("bpxeT"),p=a("2TvXO");var h=new(0,(o=a("5g02X")).default),y=document.querySelector("#header-form"),m=document.querySelector(".gallery-list");y.addEventListener("submit",(function(e){return b.apply(this,arguments)}));var w=1,x="",_=[];function b(){return(b=e(s)(e(p).mark((function t(n){var r,a,o,i;return e(p).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),x=n.currentTarget.elements.searchQuery.value.trim(),e.prev=2,e.next=5,h.getFilmOnSearch(x);case 5:r=e.sent,a=r.results,o=r.page,i=r.total_pages,o,w=i,_=a,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0);case 17:m.innerHTML="",u(_),console.log(w);case 20:case"end":return e.stop()}}),t,null,[[2,14]])})))).apply(this,arguments)}}();
//# sourceMappingURL=index.d5003c0f.js.map
